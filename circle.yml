dependencies:
  cache_directories:
    - ".tox"

  override:
    - pip install -r requirements-dev.txt
    - pyenv local 2.7.12 3.4.4 3.5.3 3.6.1

test:
  override:
    - make test
    - make docs

deployment:
  master:
    branch: master
    commands:
      - aws s3 sync docs/build/html s3://juicedocs/projects/juicecli --acl private --delete
